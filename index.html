<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
import { getDatabase, ref, push, onChildAdded } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-database.js";

// ðŸ”¥ Your Firebase Config
const firebaseConfig = {
  apiKey: "AIzaSyAXgubYgcfYsaeDcx8DuEFmYWJkJ6oz8so",
  authDomain: "direct-chat-via-link.firebaseapp.com",
  databaseURL: "https://direct-chat-via-link-default-rtdb.firebaseio.com",
  projectId: "direct-chat-via-link",
  storageBucket: "direct-chat-via-link.firebasestorage.app",
  messagingSenderId: "26226616717",
  appId: "1:26226616717:web:89d75ac8e16d05245375c4"
};

// âœ… Initialize Firebase
const app = initializeApp(firebaseConfig);
const db = getDatabase(app);
const chatRef = ref(db, "messages");

// âœ… Send Message
document.getElementById("sendBtn").addEventListener("click", () => {
  const input = document.getElementById("message");
  const text = input.value.trim();
  if (!text) return;

  push(chatRef, {
    text: text,
    time: Date.now()
  });

  input.value = "";
});

// âœ… Receive Messages
onChildAdded(chatRef, (snapshot) => {
  const msg = snapshot.val();
  const div = document.createElement("div");
  div.textContent = msg.text;
  document.getElementById("chat").appendChild(div);
});

</script>
